"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{881:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var a=r(861),s=r(439),n=r(757),i=r.n(n),u=r(791),c=r(87),o=r(340),l="Movies_movies__TE99a",f="Movies_listMovies__DwQEU",h="Movies_formMovies__fcFZE",m=r(184);var d=function(){var e=(0,u.useState)(""),t=(0,s.Z)(e,2),r=t[0],n=t[1],d=(0,u.useState)([]),v=(0,s.Z)(d,2),p=v[0],I=v[1];return(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,o.Z.get("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1",{params:{query:r},headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjY2IzYWZhYzhlOTMyOWI1YWJkMzVjNmRmMzY5MjUzZCIsInN1YiI6IjY1ODJmM2Y4ZTI5NWI0M2MwMDY4NjI0NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xgYP1rdb0GROreyEVhfVlLLdJA-VoS5Yhwr_rvgSydo"}});case 3:t=e.sent,I(t.data.results),localStorage.setItem("lastMovies",JSON.stringify(t.data.results));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,u.useEffect)((function(){var e=localStorage.getItem("lastMovies");e&&I(JSON.parse(e))}),[]),(0,m.jsxs)("div",{className:l,children:[(0,m.jsxs)("form",{className:h,onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;n(t),localStorage.setItem("lastQuery",t),e.currentTarget.reset()},children:[(0,m.jsx)("input",{type:"text",name:"query",placeholder:"Movie search",defaultValue:r}),(0,m.jsx)("button",{type:"submit",children:"Search"})]}),(0,m.jsx)("ul",{className:f,children:p.map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)(c.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=881.b81406c6.chunk.js.map