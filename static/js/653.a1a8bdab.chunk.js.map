{"version":3,"file":"static/js/653.a1a8bdab.chunk.js","mappings":"qPACA,EAAyB,uBAAzB,EAA6D,2BAA7D,EAAqG,2B,SCoErG,MAhEA,WACE,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA4BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAwCxB,OAtCAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACdf,EAAM,CAADa,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EACgBC,EAAAA,EAAAA,IACrB,sFACA,CACEC,OAAQ,CAAEjB,MAAAA,GACVkB,QAAS,CACPC,cACE,gOAGN,KAAD,EATKP,EAAQC,EAAAO,KAUdf,EAAUO,EAASS,KAAKC,SACxBC,aAAaC,QACX,aACAC,KAAKC,UAAUd,EAASS,KAAKC,UAC7B,wBAAAT,EAAAc,OAAA,GAAAhB,EAAA,KAEL,kBAlBgB,OAAAH,EAAAoB,MAAA,KAAAC,UAAA,KAmBjBtB,GACF,GAAG,CAACP,KAEJM,EAAAA,EAAAA,YAAU,WACR,IAAMwB,EAAaP,aAAaQ,QAAQ,cACpCD,GACFzB,EAAUoB,KAAKO,MAAMF,GAEzB,GAAG,KAWDG,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAWC,SAAA,EACzBH,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAgBE,SAVhB,SAAAC,GACnBA,EAAMC,iBACN,IAAMC,EAAWF,EAAMG,OAAOC,SAAS1C,MAAM2C,MAC7C1C,EAASuC,GACTjB,aAAaC,QAAQ,YAAagB,GAClCF,EAAMM,cAAcC,OACtB,EAI4DT,SAAA,EACtDU,EAAAA,EAAAA,KAAA,SACEC,KAAK,OACLC,KAAK,QACLC,YAAY,eACZC,aAAclD,KAEhB8C,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAAQX,SAAC,eAExBU,EAAAA,EAAAA,KAAA,MAAIZ,UAAWC,EAAeC,SAC3BhC,EAAO+C,KAAI,SAAAC,GAAK,OACfN,EAAAA,EAAAA,KAAA,MAAAV,UACEU,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAACC,GAAE,WAAAC,OAAaH,EAAMI,IAAKpB,SAAEgB,EAAMK,SADjCL,EAAMI,GAEV,QAKf,C","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"Movies_movies__tPRCM\",\"listMovies\":\"Movies_listMovies__FKm0w\",\"formMovies\":\"Movies_formMovies__bvdFd\"};","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport css from './Movies.module.css';\n\nfunction Movies() {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      if (query) {\n        const response = await axios.get(\n          'https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1',\n          {\n            params: { query },\n            headers: {\n              Authorization:\n                'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjY2IzYWZhYzhlOTMyOWI1YWJkMzVjNmRmMzY5MjUzZCIsInN1YiI6IjY1ODJmM2Y4ZTI5NWI0M2MwMDY4NjI0NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xgYP1rdb0GROreyEVhfVlLLdJA-VoS5Yhwr_rvgSydo',\n            },\n          }\n        );\n        setMovies(response.data.results);\n        localStorage.setItem(\n          'lastMovies',\n          JSON.stringify(response.data.results)\n        );\n      }\n    };\n    fetchMovies();\n  }, [query]);\n\n  useEffect(() => {\n    const lastMovies = localStorage.getItem('lastMovies');\n    if (lastMovies) {\n      setMovies(JSON.parse(lastMovies));\n    }\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newQuery = event.target.elements.query.value;\n    setQuery(newQuery);\n    localStorage.setItem('lastQuery', newQuery);\n    event.currentTarget.reset();\n  };\n\n  return (\n    <div className={css.movies}>\n      <form className={css.formMovies} onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"query\"\n          placeholder=\"Movie search\"\n          defaultValue={query}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul className={css.listMovies}>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["_useState","useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","movies","setMovies","useEffect","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","params","headers","Authorization","sent","data","results","localStorage","setItem","JSON","stringify","stop","apply","arguments","lastMovies","getItem","parse","_jsxs","className","css","children","onSubmit","event","preventDefault","newQuery","target","elements","value","currentTarget","reset","_jsx","type","name","placeholder","defaultValue","map","movie","Link","to","concat","id","title"],"sourceRoot":""}